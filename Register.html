<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .div{
            border: 2px solid red;
            min-height: 500px;
            /* justify-content: center; */
            /* align-items: center;  */
            /* /* justify-content: center; */
        }
       .first{
            display: none;
        }
        #email{
            display: block;
        }
        button{
            display: block;
        }
        #CreateAccount{
            display: none;
        }
        #PersonalInformation{
            display: none;
        }
        #cont{
            display: none;
        }
        #Login{
            display: none;
        }
        

        
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    
    
    <section class="container">
          <div  class="mt-5 div w-100 text-center" style="height: 100px;">
            <img  src="./Foto/star.png" height="50px" alt="">
            <div id="Paragragh">
                <p class="fw-bold mt-3 text-center"  >Welcome to Jumia</p>
            <p class="text-center">Type your E-mail  Or Phone Number to Log in or create Jumia <br> Account</p>
            </div>
            <div id="CreateAccount">
                <p class="fw-bold mt-3 text-center"  >Create Your Account</p>
            <p class="text-center">Let's get started by creating your Account <br>To keep Your Account safe, account Safe, we need a strong password</p>
            </div>
            <!-- <div id="PersonalInformation">
                <p class="fw-bold mt-3 text-center"  >Create Your Account</p>
            <p class="text-center">Let's get started by creating your Account <br>To keep Your Account safe, account Safe, we need a strong password</p>
            </div> -->
            <div class="first" id="email">
                <div>
                    <input type="email" placeholder="Email Or Mobile Phone number" class="form-control border-warning p-3 card" id="Emals" aria-describedby="emailHelp">
                    </div>
                    <div id="disp"></div>
                </div>
                
            <div class="first" id="Password">
                <!-- <div id="display"></div> -->
                <div class="mb-3 all" id="firstName">
                    <input type="text" placeholder="FirstName" class="form-control border-warning p-3" id="fn">
                </div>
                <div class="mb-3 all" id="LastName">
                    <input type="text" placeholder="Last Name" class="form-control border-warning p-3" id="lastName">
                </div>
                <div class="mb-3 all" id="dateOfBirths">
                  <input type="date" placeholder="Date" class="form-control border-warning p-3" id="dateOfBirths">
                </div>
                <div class="mb-3 all" id="Password">
                  <input type="password" placeholder="Password" class="form-control border-warning p-3" id="ps">
                </div>
                <div class="mb-3 all" id="RetypePasswors">
                  <input type="password" placeholder="Retype Password" class="form-control border-warning p-3" id="Retype">
                  <div id="MathchPass"></div>
                </div>
            </div>
              
            <button class="btn btn-warning w-100 p-3 mt-3" id="sub" onclick="contiNue()">Continue</button>
            <button class="btn btn-warning w-100 p-3 mt-3 " id="cont" onclick="submit()">Subtmi</button>
            <!-- <button class="btn btn-warning w-100 p-3 mt-3 " id="Login" onclick="Login()">Login</button> -->
              
              <!-- </form> -->

        </div>
    </section>
    <!-- <input type="text" id="EmailsValidation" placeholder="Type ur Email "> -->
    <!-- <button onclick="Validation()">Validatione</button> -->
    <script>
        let allAccount = []
        if(localStorage.allAccount){
        allAccount = JSON.parse(localStorage.getItem("allAccount"))}
        console.log(allAccount);
        const submit =()=>{
            let account ={
                FirtName:fn.value,
                LastName:lastName.value,
                Email:Emals.value,
                password:ps.value,
                Retypes:Retype.value,
            }
            if (ps.value !=Retype.value){
                MathchPass.innerHTML +=`    
                <p style="color:red; margin-top:20px;">Password You type no match</p>
                `
            }else{
                // console.log("werey Type something");
                allAccount.push(account)
                localStorage.setItem("allAccount", JSON.stringify(allAccount))
                window.location.href ="Dashboard.html"
                console.log(allAccount[index].Email);
                // console.log(allAccount);
            }
            
        allAccount = JSON.parse(localStorage.getItem("allAccount"))}
        let userFound = true
        const contiNue = ()=>{
            let emailValidation = document.getElementById("Emals");
            let  Emails = Emals.value;
            let regexValidation = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
            let userFound = false
            for (let index = 0; index < allAccount.length; index++) {
                if(Emals.value == allAccount[index].Email){
                 localStorage.setItem( "accountDetails", JSON.stringify(allAccount[index]))
                 console.log(allAccount[index]);
                userFound = true;
                break;
                }
                
                if(ps.value ==allAccount[index]){
                localStorage.setItem( "accountDetails", JSON.stringify(allAccount[index]))
                // console.log(allAccount[index]);
                userFound = true;
                break;
                }
                
            }
            if (userFound == true){
                alert("is working ajeh")
            }else{
                console.log("not workiing");
            }
            // let allAccounts = allAccount.filter((act, i) => Emals.value == allAccount[act].Email );{
            // let allAccounts = allAccount.filter((act, i)=> Emals.value == act[i].allAccount)
            // localStorage.setItem("accountDetails", JSON.stringify(allAccount[act]))
            // console.log(allAccount[act].firstName);

                // localStorage.setItem("accountDetails" , JSON.stringify(allAccounts))
                // console.log(allAccounts);

                
                if (userFound == true){
    
                        document.getElementById("Password").style.display ="block"
                        document.getElementById("email").style.display ="block"
                        document.getElementById("dateOfBirths").style.display ="none"
                        document.getElementById("email").style.display="block"
                        document.getElementById("Emals").style.backgroundColor="smokewhite"
                        document.getElementById("CreateAccount").style.display ="block"
                        document.getElementById("Paragragh").style.display ="none"
                        document.getElementById("firstName").style.display ="none"
                        document.getElementById("lastName").style.display ="none"
                        document.getElementById("cont").style.display ="none"
                        document.getElementById("sub").style.display ="block"
                        document.getElementById("RetypePasswors").style.display ="none"
                
                        // document.getElementById("Login").style.display ="block"
                        // window.location.href = "Dashboard.html"
                }else if(regexValidation.test(Emails)){
                        document.getElementById("Password").style.display ="block"
                        // document.getElementById("Password").style.display ="block"
                        document.getElementById("dateOfBirths").style.display ="block"
                        document.getElementById("Retype").style.display ="block"
                        document.getElementById("email").style.display ="none"
                        document.getElementById("CreateAccount").style.display ="block"
                        document.getElementById("Paragragh").style.display ="none"
                        document.getElementById("firstName").style.display ="block"
                        document.getElementById("lastName").style.display ="block"
                        document.getElementById("cont").style.display ="block"
                        document.getElementById("sub").style.display ="none"
                        // document.getElementById("PersonalInformation").style.display ="block"
                }else{
                    disp.innerHTML +=`
                         <p style="color:red; margin-top:20px;">Invalid Email</p>
                         `
                }
            }

            
        
        
    
          
            
            
            
            // let student = stArray.filter((std, i) => userId.value == std.id && userName.value == std.name);
            // console.log(student);
            // if(student != undefined){
            //     alert("You are doing well")
            // }else{
            //     alert("Ogbonu ni ye oooo aje")
            // }
           
                  
        // }
            
          
        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>